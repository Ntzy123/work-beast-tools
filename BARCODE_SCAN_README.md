# ğŸ“· æ‰«ç åŠŸèƒ½å®ç°è¯´æ˜

## âœ… å½“å‰å®ç°æ–¹æ¡ˆ

åŸºäº **DCloud å®˜æ–¹æ–‡æ¡£æ¨è**çš„ `plus.barcode` æ–¹æ¡ˆå®ç°ã€‚

å‚è€ƒæ–‡æ¡£ï¼šhttps://ask.dcloud.net.cn/m/article/35036

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯

### **plus.barcode æ¨¡å—**

è¿™æ˜¯5+ AppåŸç”Ÿæ‰«ç æ¨¡å—ï¼Œç‰¹ç‚¹ï¼š
- âœ… **åŸç”Ÿæ€§èƒ½** - å’Œå¾®ä¿¡æ‰«ç ä¸€æ ·å¿«
- âœ… **è‡ªå®šä¹‰UI** - å¯ä»¥å åŠ è‡ªå·±çš„æ§ä»¶
- âœ… **ä¸è·³è½¬** - åœ¨å½“å‰é¡µé¢æ˜¾ç¤ºç›¸æœºç”»é¢
- âœ… **å®æ—¶è¯†åˆ«** - è§†é¢‘æµå®æ—¶æ£€æµ‹äºŒç»´ç 

---

## ğŸ“ å®ç°æ¶æ„

```
é¡µé¢ç»“æ„ï¼ˆå±‚å ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vue é¡µé¢å±‚              â”‚
â”‚  â”œâ”€ çŠ¶æ€æ å ä½           â”‚
â”‚  â”œâ”€ æ‰«ç åŒºåŸŸå®¹å™¨ï¼ˆå ä½ï¼‰ â”‚
â”‚  â””â”€ cover-view ç»„ä»¶      â”‚  â† è‡ªå®šä¹‰UI
â”‚     â”œâ”€ æ‰«ç æ¡†è£…é¥°         â”‚
â”‚     â”œâ”€ æ‰«æçº¿åŠ¨ç”»         â”‚
â”‚     â”œâ”€ è¿”å›æŒ‰é’®          â”‚
â”‚     â””â”€ æ‰‹ç”µç­’/ç›¸å†ŒæŒ‰é’®   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  plus.barcode åŸç”Ÿå±‚     â”‚  â† ç›¸æœºç”»é¢ + è¯†åˆ«
â”‚  (appendåˆ°webview)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ å…³é”®ä»£ç 

### 1. **åˆ›å»ºbarcodeæ‰«ç æ§ä»¶**

```javascript
this.barcode = plus.barcode.create('barcode', 
    [plus.barcode.QR, plus.barcode.EAN13, plus.barcode.EAN8], 
    {
        top: this.statusBarHeight + 'px',
        left: '0px',
        width: '100%',
        height: this.cameraHeight + 'px',
        position: 'static'
    }
)
```

### 2. **ç›‘å¬æ‰«ç æˆåŠŸ**

```javascript
this.barcode.onmarked = (type, result, file) => {
    console.log('æ‰«ç æˆåŠŸ:', result)
    this.barcode.cancel() // åœæ­¢æ‰«ç 
    this.handleScanResult(result)
}
```

### 3. **ä½¿ç”¨ cover-view å åŠ UI**

ç”±äºbarcodeæ˜¯åŸç”Ÿæ§ä»¶ï¼Œå¿…é¡»ä½¿ç”¨ `cover-view` æ‰èƒ½è¦†ç›–åœ¨ä¸Šé¢ï¼š

```vue
<cover-view class="scan-box">
    <cover-view class="scan-border">
        <!-- è‡ªå®šä¹‰UI -->
    </cover-view>
</cover-view>
```

### 4. **æ‰‹ç”µç­’æ§åˆ¶**

```javascript
this.barcode.setFlash(true/false)
```

### 5. **ç›¸å†Œè¯†åˆ«**

```javascript
plus.barcode.scan(imagePath, onSuccess, onError, types)
```

---

## ğŸ”„ æ™ºèƒ½é™çº§

å¦‚æœ `plus.barcode` ä¸å¯ç”¨ï¼ˆå¦‚éAPPç¯å¢ƒï¼‰ï¼Œè‡ªåŠ¨é™çº§åˆ° `uni.scanCode()`ï¼š

```javascript
initScan() {
    // #ifdef APP-PLUS
    this.createBarcodeScanner()
    // #endif
    
    // #ifndef APP-PLUS
    this.useFallbackScan()  // ä½¿ç”¨ç³»ç»Ÿæ‰«ç 
    // #endif
}
```

---

## ğŸ¨ UIç‰¹æ€§

- **ç®€æ´çš„è¿”å›æŒ‰é’®** - å·¦ä¸Šè§’ `<` ç¬¦å·ï¼Œæ— è¾¹æ¡†
- **ç»¿è‰²æ‰«ç æ¡†** - å››ä¸ªè§’è£…é¥° + æ‰«æçº¿åŠ¨ç”»
- **æ‰‹ç”µç­’æ§åˆ¶** - å®æ—¶å¼€å…³é—ªå…‰ç¯
- **ç›¸å†Œè¯†åˆ«** - ä»ç›¸å†Œé€‰æ‹©å›¾ç‰‡è¯†åˆ«
- **è°ƒè¯•æ—¥å¿—** - åº•éƒ¨æ˜¾ç¤ºå®æ—¶æ—¥å¿—

---

## ğŸ“± æ”¯æŒç¯å¢ƒ

| ç¯å¢ƒ | æ‰«ç æ–¹å¼ | è‡ªå®šä¹‰UI |
|------|---------|---------|
| APP (Android/iOS) | plus.barcode | âœ… |
| å°ç¨‹åº | uni.scanCode | âŒ |
| H5 | ä¸æ”¯æŒ | âŒ |

---

## ğŸš€ ä½¿ç”¨æµç¨‹

1. ç”¨æˆ·ç‚¹å‡»ä¸»é¡µæ‰«ä¸€æ‰«å›¾æ ‡
2. è·³è½¬åˆ°æ‰«ç é¡µé¢
3. è‡ªåŠ¨æ˜¾ç¤ºç›¸æœºç”»é¢ï¼ˆplus.barcodeï¼‰
4. å¯¹å‡†äºŒç»´ç  â†’ è‡ªåŠ¨è¯†åˆ«
5. è¯†åˆ«æˆåŠŸï¼š
   - URL â†’ æç¤ºæ‰“å¼€ç½‘é¡µ
   - æ–‡æœ¬ â†’ æ˜¾ç¤ºå¼¹çª—ï¼Œå¯å¤åˆ¶

---

## ğŸ› è°ƒè¯•

é¡µé¢åº•éƒ¨ä¼šæ˜¾ç¤ºå®æ—¶è°ƒè¯•æ—¥å¿—ï¼š
- ğŸ”µ è“è‰² = ä¿¡æ¯
- ğŸŸ¢ ç»¿è‰² = æˆåŠŸ
- ğŸ”´ çº¢è‰² = é”™è¯¯

ç‚¹å‡»æ—¥å¿—æ ‡é¢˜å¯æ¸…ç©ºã€‚

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¿…é¡»ä½¿ç”¨ cover-view**
   - æ™®é€š view æ— æ³•è¦†ç›–åœ¨åŸç”Ÿæ§ä»¶ä¸Š

2. **æƒé™é—®é¢˜**
   - é¦–æ¬¡ä½¿ç”¨éœ€è¦ç”¨æˆ·æˆæƒç›¸æœºæƒé™

3. **å†…å­˜ç®¡ç†**
   - é¡µé¢å¸è½½æ—¶å¿…é¡»è°ƒç”¨ `barcode.close()` é‡Šæ”¾èµ„æº

4. **æ€§èƒ½ä¼˜åŒ–**
   - å»¶è¿Ÿ200mså¯åŠ¨æ‰«ç ï¼Œé¿å…ç•Œé¢å¡é¡¿

---

## ğŸ‰ å®ŒæˆåŠŸèƒ½

- âœ… åŸç”Ÿæ‰«ç æ€§èƒ½
- âœ… è‡ªå®šä¹‰æ‰«ç ç•Œé¢
- âœ… æ‰«æçº¿åŠ¨ç”»æ•ˆæœ
- âœ… æ‰‹ç”µç­’æ§åˆ¶
- âœ… ç›¸å†Œè¯†åˆ«
- âœ… URLè‡ªåŠ¨è¯†åˆ«å’Œè·³è½¬
- âœ… æ–‡æœ¬ç»“æœå±•ç¤ºå’Œå¤åˆ¶
- âœ… æ™ºèƒ½é™çº§
- âœ… å®æ—¶è°ƒè¯•æ—¥å¿—

ç°åœ¨çš„æ‰«ç åŠŸèƒ½**çœŸæ­£å®ç°äº†è‡ªå®šä¹‰ç•Œé¢ + åŸç”Ÿæ€§èƒ½**ï¼ğŸŠ

